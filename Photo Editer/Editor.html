<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>ğŸ¨ Draw and Save</title>
<style>
body{text-align:center;font-family:Arial;background:#f0f0f0;}
canvas{border:2px solid #333;background:#fff;cursor:crosshair;}
button,input{margin:5px;padding:8px;font-size:16px;}
</style>
</head>
<body>
<h2>ğŸ¨ Draw and Save</h2>
<canvas id="c" width="800" height="500"></canvas><br>
<input type="color" id="clr" value="#000">
<input type="range" id="sz" min="1" max="50" value="5">
<button id="clrBtn">Clear</button>
<button id="saveBtn">Save</button>

<script>
const c=document.getElementById("c"),x=c.getContext("2d");
let draw=false;
c.onmousedown=e=>(draw=true,drawLine(e));
c.onmouseup=()=>x.beginPath(draw=false);
c.onmousemove=e=>draw&&drawLine(e);
function drawLine(e){
 const r=c.getBoundingClientRect(),X=e.clientX-r.left,Y=e.clientY-r.top;
 x.lineWidth=sz.value;x.lineCap="round";x.strokeStyle=clr.value;
 x.lineTo(X,Y);x.stroke();x.beginPath();x.moveTo(X,Y);
}
clrBtn.onclick=()=>x.clearRect(0,0,c.width,c.height);
saveBtn.onclick=async()=>{
 try{
  const h=await showSaveFilePicker({suggestedName:'drawing.png',types:[{accept:{'image/png':['.png']}}]});
  const w=await h.createWritable();const b=await new Promise(r=>c.toBlob(r,'image/png'));
  await w.write(b);await w.close();alert("âœ… Saved!");
 }catch(e){alert("âŒ Save cancelled.");}
};
</script>
</body>
</html>