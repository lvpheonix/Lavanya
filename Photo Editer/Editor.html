<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Tiny Photo Editor (Rotate)</title>
<style>
  body{font-family:Arial;text-align:center;background:#f2f2f2;padding:20px}
  canvas{border:2px dashed #aaa;max-width:300px;margin:10px}
  input[type=range]{width:200px}
  button{margin:5px;padding:8px 15px;border:0;border-radius:5px;background:#0078ff;color:#fff}
</style>
</head>
<body>
<h2>üñºÔ∏è Tiny Photo Editor</h2>
<input type="file" id="upload" accept="image/*"><br>
<canvas id="canv"></canvas><br>
<label>B:<input type="range" id="b" min="0" max="200" value="100"></label>
<label>C:<input type="range" id="c" min="0" max="200" value="100"></label>
<label>S:<input type="range" id="s" min="0" max="200" value="100"></label><br>
<button id="rotate">Rotate</button>
<button id="reset">Reset</button>
<button id="save">Download</button>

<script>
let cv=document.getElementById('canv'),cx=cv.getContext('2d'),img=new Image(),angle=0;
upload.onchange=e=>{
  img.src=URL.createObjectURL(e.target.files[0]);
  img.onload=()=>{cv.width=img.width;cv.height=img.height;draw();}
}
[b,c,s].forEach(x=>x.oninput=draw);

function draw(){
  cx.clearRect(0,0,cv.width,cv.height);
  cx.filter=`brightness(${b.value}%) contrast(${c.value}%) saturate(${s.value}%)`;
  cx.save();
  cx.translate(cv.width/2,cv.height/2);
  cx.rotate(angle*Math.PI/180);
  cx.drawImage(img,-img.width/2,-img.height/2);
  cx.restore();
}

rotate.onclick=()=>{
  angle=(angle+90)%360;
  [cv.width,cv.height]=angle%180===0?[img.width,img.height]:[img.height,img.width];
  draw();
}

reset.onclick=()=>{b.value=c.value=s.value=100;angle=0;cv.width=img.width;cv.height=img.height;draw();}
save.onclick=()=>{
  let a=document.createElement('a');
  a.download='edited.png';
  a.href=cv.toDataURL();
  a.click();
}
</script>
</body>
</html>